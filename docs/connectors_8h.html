<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dungeonator: C:/Users/benja/source/repos/dungeonator/src/connectors.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dungeonator
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">a dungeon generator library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">connectors.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>file for connections between regions (doors)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="grid_8h_source.html">grid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="direction_8h_source.html">direction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util_8h_source.html">util.h</a>&quot;</code><br />
</div>
<p><a href="connectors_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_connectors.html">Connectors</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa38d9aa01c437313ff27a334b097a289"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connectors_8h.html#aa38d9aa01c437313ff27a334b097a289">CONNECTOR_ALLOC_SIZE</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:aa38d9aa01c437313ff27a334b097a289"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a31712a2f5d8d0dada323d7433fb2c0af"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_connectors.html">Connectors</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connectors_8h.html#a31712a2f5d8d0dada323d7433fb2c0af">Connector</a></td></tr>
<tr class="separator:a31712a2f5d8d0dada323d7433fb2c0af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa490b7101c5c7769e3820b1a62b07082"><td class="memItemLeft" align="right" valign="top"><a class="el" href="connectors_8h.html#a31712a2f5d8d0dada323d7433fb2c0af">Connector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connectors_8h.html#aa490b7101c5c7769e3820b1a62b07082">getConnectors</a> (<a class="el" href="grid_8h.html#aee149cf2bb10bf25ef14ec16e0acf3b8">Grid</a> *grid, <a class="el" href="grid_8h.html#a06fe01f7914ab040e652ae56965faa68">regions_t</a> regions, size_t *num_connectors)</td></tr>
<tr class="separator:aa490b7101c5c7769e3820b1a62b07082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad035ad934557515ba12aa5c1d25ab963"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connectors_8h.html#ad035ad934557515ba12aa5c1d25ab963">mapMergedRegions</a> (<a class="el" href="connectors_8h.html#a31712a2f5d8d0dada323d7433fb2c0af">Connector</a> *connector, int *merged, int *num_regions)</td></tr>
<tr class="separator:ad035ad934557515ba12aa5c1d25ab963"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>file for connections between regions (doors) </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa38d9aa01c437313ff27a334b097a289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa38d9aa01c437313ff27a334b097a289">&#9670;&nbsp;</a></span>CONNECTOR_ALLOC_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONNECTOR_ALLOC_SIZE&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the default size to expand the connector array by each time. can be overrided by the user by defining it themselves </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a31712a2f5d8d0dada323d7433fb2c0af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31712a2f5d8d0dada323d7433fb2c0af">&#9670;&nbsp;</a></span>Connector</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_connectors.html">Connectors</a> <a class="el" href="connectors_8h.html#a31712a2f5d8d0dada323d7433fb2c0af">Connector</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A struct to represent a connection between 2 regions </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa490b7101c5c7769e3820b1a62b07082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa490b7101c5c7769e3820b1a62b07082">&#9670;&nbsp;</a></span>getConnectors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="connectors_8h.html#a31712a2f5d8d0dada323d7433fb2c0af">Connector</a>* getConnectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="grid_8h.html#aee149cf2bb10bf25ef14ec16e0acf3b8">Grid</a> *&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grid_8h.html#a06fe01f7914ab040e652ae56965faa68">regions_t</a>&#160;</td>
          <td class="paramname"><em>regions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>num_connectors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>given a grid (for size information) and a list of the various regions, get the potential connectors between them</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">grid</td><td>a pointer to a grid to get width and height info </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regions</td><td>the 2d regions array to determine which region a tile is in </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">num_connectors</td><td>the number of connectors found - make sure to use this to avoid undefined behavior</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer the the malloced array of connectors (remember to free it!) </dd></dl>

</div>
</div>
<a id="ad035ad934557515ba12aa5c1d25ab963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad035ad934557515ba12aa5c1d25ab963">&#9670;&nbsp;</a></span>mapMergedRegions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* mapMergedRegions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="connectors_8h.html#a31712a2f5d8d0dada323d7433fb2c0af">Connector</a> *&#160;</td>
          <td class="paramname"><em>connector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>merged</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>num_regions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>take the region for a connector and use a mapping array to process potential merging it's regions also deduplicates array, so each region will only be included once</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connector</td><td>a pointer to the connector to map the regions of </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">merged</td><td>an array that will be used to map the various regions </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">num_regions</td><td>the number of regions in the ouput array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the array of mapped regions</dd></dl>
<dl class="section note"><dt>Note</dt><dd>similar to the connector, the returned array actually has an allocated length of NUM_DIRECTIONS, and is static. this was done to avoid extra mallocs, but does mean that if you call this twice and assign to two pointers, they will actually both point to the result of the second call. Just be wary of that. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.0
</small></address>
</body>
</html>
